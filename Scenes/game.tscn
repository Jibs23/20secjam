[gd_scene load_steps=5 format=3 uid="uid://d35vcl273s34i"]

[ext_resource type="Script" uid="uid://d10y1mhqwveps" path="res://Scripts/game.gd" id="1_3dryh"]
[ext_resource type="PackedScene" uid="uid://dg382sc10qhfs" path="res://Scenes/player.tscn" id="1_qxrlw"]
[ext_resource type="Script" uid="uid://biskcokq6irx" path="res://Scripts/enemy_manager.gd" id="3_wowpa"]
[ext_resource type="Script" uid="uid://csrxxds2tne84" path="res://Scripts/debug_label.gd" id="4_3dryh"]

[node name="Game" type="Node"]
script = ExtResource("1_3dryh")

[node name="Level" type="Node2D" parent="."]

[node name="Player" parent="Level" instance=ExtResource("1_qxrlw")]

[node name="Enemy Manager" type="Node2D" parent="Level"]
script = ExtResource("3_wowpa")

[node name="SpawnTimer" type="Timer" parent="Level/Enemy Manager"]
autostart = true

[node name="Spawn_TL" type="Marker2D" parent="Level/Enemy Manager" groups=["enemy_spawn_point"]]
position = Vector2(-600, -360)
gizmo_extents = 41.2

[node name="Spawn_TR" type="Marker2D" parent="Level/Enemy Manager" groups=["enemy_spawn_point"]]
position = Vector2(600, -360)
gizmo_extents = 41.2

[node name="Spawn_DL" type="Marker2D" parent="Level/Enemy Manager" groups=["enemy_spawn_point"]]
position = Vector2(-600, 360)
gizmo_extents = 41.2

[node name="Spawn_DR" type="Marker2D" parent="Level/Enemy Manager" groups=["enemy_spawn_point"]]
position = Vector2(600, 360)
gizmo_extents = 41.2

[node name="Timer" type="Label" parent="Level" node_paths=PackedStringArray("target_node")]
offset_left = -59.0
offset_top = -338.0
offset_right = 86.0
offset_bottom = -296.0
theme_override_font_sizes/font_size = 30
text = "Time left"
uppercase = true
script = ExtResource("4_3dryh")
referenced_variable = "time_left"
target_node = NodePath("Time Limit")
use_snapping = true

[node name="Time Limit" type="Timer" parent="Level/Timer"]
wait_time = 20.0
autostart = true

[node name="Camera2D" type="Camera2D" parent="."]

[connection signal="tree_entered" from="Level/Enemy Manager" to="Level/Enemy Manager" method="_on_tree_entered"]
[connection signal="timeout" from="Level/Enemy Manager/SpawnTimer" to="Level/Enemy Manager" method="_on_timer_timeout"]
